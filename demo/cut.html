<!DOCTYPE html>
<html>
<head>
    <title>上传头像</title>
    <meta charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="css/base.css" />
    <link type="text/css" rel="stylesheet" href="css/upload_portrait.css" />
    <script type="text/javascript" src="js/cut.js"></script>
</head>
<body>
<div class="upload_portrait">
    <div class="box clearfix">
        <div class="left" id="cutbox">
            <div class="shade">
                <img src="cut.jpg" onload="cutImg.init();" />
            </div>
            <div class="cut">
                <div><span class="img"></span></div>
                <em class="l"></em>
                <em class="r"></em>
                <em class="t"></em>
                <em class="b"></em>
                <em class="lt"></em>
                <em class="rt"></em>
                <em class="lb"></em>
                <em class="rb"></em>
            </div>
        </div>
        <div class="right">
            <p>预览</p>
            <div class="d100x100">
                <span class="img"></span>
            </div>
            <div class="d60x60">
                <span class="img"></span>
            </div>
            <div class="d40x40">
                <span class="img"></span>
            </div>
        </div>
    </div>
    <p class="button"><a class="confirm">确定</a></p>
</div>
<script type="text/javascript">
    //确定
    document.querySelector('a.confirm').onclick = function() {
        var obj = {
            x : (cutImg.cutLeft - cutImg.boxLeft)*cutImg.imgZoom|0 ,
            y : (cutImg.cutTop - cutImg.boxTop)*cutImg.imgZoom|0 ,
            width : cutImg.cutLength*cutImg.imgZoom|0 ,
            height : cutImg.cutLength*cutImg.imgZoom|0
        };
        alert(JSON.stringify(obj));
    };
</script>
</body>
</html>