# 正则的扩展

> ECMAScript 6 入门 (阮一峰) [http://es6.ruanyifeng.com/#docs/regex](http://es6.ruanyifeng.com/#docs/regex)

目录



## RegExp 构造函数

- 允许修改，修饰符

```
new RegExp(/abc/ig, 'i').flags
// "i"
```

## u 修饰符

- 正确处理四个字节的 UTF-16 编码

```
/^\uD83D/u.test('\uD83D\uDC2A') // false
/^\uD83D/.test('\uD83D\uDC2A') // true
```

## y 修饰符：sticky 属性

- g修饰符只要剩余位置中存在匹配就可，而y修饰符确保匹配必须从剩余的第一个位置开始，这也就是“粘连”的涵义。

```
var s = 'aaa_aa_a';
var r1 = /a+/g;
var r2 = /a+/y;

r1.exec(s) // ["aaa"]
r2.exec(s) // ["aaa"]

r1.exec(s) // ["aa"]
r2.exec(s) // null
```

## flags 属性

- 返回正则表达式的修饰符。

## s 修饰符：dotAll 属性

- 正则表达式中，点（.）是一个特殊字符，代表任意的单个字符，但是有两个例外。一个是四个字节的 UTF-16 字符，这个可以用u修饰符解决；另一个是行终止符。
- dotAll 模式，即点（.）代表一切字符。

## 后行断言

- “先行断言”指的是，x只有在y前面才匹配，必须写成/x(?=y)/。
- “先行否定断言”指的是，x只有不在y前面才匹配，必须写成/x(?!y)/。
- “后行断言”正好与“先行断言”相反，x只有在y后面才匹配，必须写成/(?<=y)x/。
- “后行否定断言”则与“先行否定断言”相反，x只有不在y后面才匹配，必须写成/(?<!y)x/。
- 没有“后行断言”时，由于执行顺序是从左到右，第一个括号是贪婪模式，第二个括号只能捕获一个字符。
- 而“后行断言”时，由于执行顺序是从右到左，第二个括号是贪婪模式，第一个括号只能捕获一个字符。

## Unicode 属性类